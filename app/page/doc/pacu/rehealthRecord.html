<div><coverup></coverup></div>
<div id="rehealthRecord" layout flex>
    <div layout ng-cloak ng-class="{true: 'sheet-readonly'}[finish=='ok' && !isAnaes]">
        <aside layout="column" ng-show="pageState !== 1" class="not-print">
            <button type="button" class="btn btn-primary" tk-print-region="print-region" ng-click="print()">
                <span class="glyphicon glyphicon-print" style="width: 50px"></span>
                <div>打&nbsp;&nbsp;印</div>
            </button>
            <button ng-if="finish != 'ok'" type="button" class="btn btn-primary readonly" ng-click="outRoom()">
                <span class="glyphicon glyphicon-log-out" style="width: 50px"></span>
                <div>出&nbsp;&nbsp;室</div>
            </button>
        </aside>
        <main flex class="body rehealth-print" id="print-region">
            <article layout="column">
                <header layout="column" layout-align="center center" class="noTop">
                    <div ng-if="!docUrl">
                        <h3 style='margin-top: 0;' ng-if="docInfo.beName">{{docInfo.beName}}</h3>
                        <h4 style='margin-top: 0;' ng-if="docInfo.subName">{{docInfo.subName}}</h4>
                    </div>
                    <img ng-if="docUrl" src="/app/img/{{docUrl}}" class="doctitle-icon">
                    <h4 style='margin-top: 0;'>麻醉恢复室(PACU)观察记录单</h4>
                </header>
                <div layout="column" class="header-info">
                    <!-- 术前 -->
                    <div layout class="form-group">
                        <span flex='30' layout ng-class='{true: "md-red"}[!vm.rSheet.anaesPacuRec.enterTime && verify]'>入PACU时间：<datetime-picker timepicker="true" format="Y-m-d H:i" class="noborder3" ng-model="vm.rSheet.anaesPacuRec.enterTime" ng-change="vm.setreNodeinfo()"></datetime-picker></span>
                        <span flex ng-class='{true: "md-red"}[!vm.rSheet.anaesPacuRec.enterTemp && verify]'>入室体温：<input type="number" class="noborder3" ng-value="vm.rSheet.anaesPacuRec.enterTemp" ng-model="vm.rSheet.anaesPacuRec.enterTemp" ng-blur="vm.setreNodeinfo()"></input></span>
                    </div>
                    <div layout class="form-group">
                        <div>病室&nbsp;<span class="span-rehnode-info"> &nbsp;{{vm.rSheet.regOpt.regionName}} </span></div>
                        <div>床号&nbsp;<span class="span-rehnode-info"> &nbsp;{{vm.rSheet.regOpt.bed}} </span></div>
                        <div>姓名&nbsp;<span class="span-rehnode-info"> &nbsp;{{vm.rSheet.regOpt.name}} </span></div>
                        <div>性别&nbsp;<span class="span-rehnode-info"> &nbsp;{{vm.rSheet.regOpt.sex}} </span></div>
                        <div>年龄&nbsp;<span class="span-rehnode-info"> &nbsp;{{vm.rSheet.regOpt.age}} </span></div>
                        <div>住院号&nbsp;<span class="span-rehnode-info"> &nbsp;{{vm.rSheet.regOpt.hid}} </span></div>
                    </div>
                    <div layout class="form-group">
                        <span flex layout>诊断名称：<a flex class="span-rehnode">{{vm.rSheet.regOpt.optLatterDiag}}</a></span>&nbsp;
                        <span flex layout>麻醉方法：<a flex class="span-rehnode">{{vm.rSheet.regOpt.anaesMethod}}</a></span>
                    </div>
                    <div layout class="form-group line4">
                        <span>随身物品&nbsp;&nbsp;</span>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portableRes_[0]" ng-change="changeResAndPipe();" ng-true-value="'1'" ng-false-value="'0'"> 影像资料</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portableRes_[1]" ng-change="changeResAndPipe();" ng-true-value="'2'" ng-false-value="'0'"> 衣服</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portableRes_[2]" ng-change="changeResAndPipe();" ng-true-value="'3'" ng-false-value="'0'"> 裤子</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portableRes_[3]" ng-change="changeResAndPipe();" ng-true-value="'4'" ng-false-value="'0'"> 鞋</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portableRes_[4]" ng-change="changeResAndPipe();" ng-true-value="'5'" ng-false-value="'0'"> 药物</checkbox>
                        </label>
                        <label class="checkbox-inline" flex layout>&nbsp;&nbsp;&nbsp;&nbsp;其他&nbsp;
                            <input flex style="text-align: left;" ng-value="vm.rSheet.anaesPacuRec.portableResOther" type="text" maxlength="10" ng-model="vm.rSheet.anaesPacuRec.portableResOther" ng-blur="vm.setreNodeinfo()" />
                        </label>
                    </div>
                    <div layout class="form-group line4">
                        <span>随身管道&nbsp;&nbsp;</span>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portablePipe_[0]" ng-change="changeResAndPipe();" ng-true-value="'1'" ng-false-value="'0'"> 输液管</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portablePipe_[1]" ng-change="changeResAndPipe();" ng-true-value="'2'" ng-false-value="'0'"> 尿管</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portablePipe_[2]" ng-change="changeResAndPipe();" ng-true-value="'3'" ng-false-value="'0'"> 伤口引流管</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portablePipe_[3]" ng-change="changeResAndPipe();" ng-true-value="'4'" ng-false-value="'0'"> T管</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portablePipe_[4]" ng-change="changeResAndPipe();" ng-true-value="'5'" ng-false-value="'0'"> 胸腔闭式引流管</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portablePipe_[5]" ng-change="changeResAndPipe();" ng-true-value="'6'" ng-false-value="'0'"> 胃管</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portablePipe_[6]" ng-change="changeResAndPipe();" ng-true-value="'7'" ng-false-value="'0'"> 鼻肝管</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portablePipe_[7]" ng-change="changeResAndPipe();" ng-true-value="'8'" ng-false-value="'0'"> 鼻肠管</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portablePipe_[8]" ng-change="changeResAndPipe();" ng-true-value="'9'" ng-false-value="'0'"> 中心静脉</checkbox>
                        </label>
                        <label class="checkbox-inline">
                            <checkbox ng-model="portablePipe_[9]" ng-change="changeResAndPipe();" ng-true-value="'10'" ng-false-value="'0'"> 镇痛泵</checkbox>
                        </label>
                    </div>
                </div>
                <table class="table table-bordered text-center" style="margin-bottom: 0px;">
                    <tbody>
                        <tr>
                            <td colspan="3">清醒程度</td>
                            <td colspan="4">呼吸道通畅程度</td>
                            <td colspan="2">肢体活动度</td>
                            <td>输液通畅</td>
                            <td class="td5" rowspan="4">输液通道</td>
                            <td colspan="2" style="width: 75px;">恶心/呕吐</td>
                            <td class="td1">寒颤</td>
                            <td class="td8">疼痛评分</td>
                            <td class="td9" rowspan="4">
                                <div style="width:125px;">备注</div>
                            </td>
                            <td class="td10" rowspan="4">
                                <div style="width:188px;">使用液体
                                    <br/>/药物</div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" style="text-align:left;">
                                0=对刺激无反应
                                <br> 1=对刺激有反应
                                <br> 2=完全清醒
                            </td>
                            <td colspan="4" style="text-align:left;">
                                0=呼吸道需予以支持
                                <br> 1=不支持可以维持呼吸道通畅
                                <br> 2=可自由咳嗽
                            </td>
                            <td colspan="2" style="text-align:left;">
                                0=无法活动
                                <br> 1=肢体无意识活动
                                <br> 2=肢体能做有意识的活动
                            </td>
                            <td style="text-align:left;">
                                0=无
                                <br> 1=不通畅
                                <br> 2=通畅
                            </td>
                            <td colspan="2">
                                0=无
                                <br> 1=有
                            </td>
                            <td rowspan="3">
                                0=无
                                <br> 1=有
                            </td>
                            <td rowspan="3">
                                VSA 0→10
                                <br> 0=无疼痛
                                <br> 10=严重疼痛
                            </td>
                        </tr>
                        <tr>
                            <td class="td2" rowspan="2">
                                <div style="width:145px;">时间</div>
                            </td>
                            <td colspan="4">生命体征</td>
                            <td colspan="2">吸氧</td>
                            <td colspan="3">Steward评分</td>
                            <td colspan="2" rowspan="2">
                                <div>恶心
                                    <br/>呕吐</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="td1">
                                <div style="width:37px;">HR
                                    <div>次/分</div>
                                </div>
                            </td>
                            <td class="td1">
                                <div style="width:37px;">R
                                    <div>次/分</div>
                                </div>
                            </td>
                            <td class="td3">
                                <div style="width:87px;">BP
                                    <div>mmHg</div>
                                </div>
                            </td>
                            <td class="td4">
                                <div style="width:38px;">SPO<sub>2</sub>
                                    <div>%</div>
                                </div>
                            </td>
                            <td class="td4">
                                <div style="width:38px;">方式</div>
                            </td>
                            <td class="td4">
                                <div style="width:38px;">流量
                                    <div>L/分</div>
                                </div>
                            </td>
                            <td class="td6">
                                <div style="width:77px;">清醒
                                    <br/>程度</div>
                            </td>
                            <td class="td6">
                                <div style="width:77px;">呼吸道通
                                    <br/>畅程度</div>
                            </td>
                            <td class="td7">
                                <div style="width:67px;">肢体活
                                    <br/>动度</div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </article>
            <div class="scroll-box">
                <article layout="column">
                    <div>
                        <table class="table table-bordered text-center">
                            <tbody>
                                <tr ng-repeat="item in vm.pacuRecList" ng-class="{true: 'not-print'}[item.recordTime == '']">
                                    <td style="width: 145px;">
                                        <div layout style="width:inherit;">
                                            <span flex="20" style="cursor:pointer;" class="glyphicon glyphicon-trash not-print" ng-if="item.id" ng-click="delete(item.id, $index)"></span>
                                            <datetime-picker style="border:none;" flex="80" timepicker="true" format="Y-m-d H:i" ng-model="item.recordTime" ng-click="vm.setRecordTime($index, item)" ng-change="vm.setaddNode($index, item)"></datetime-picker>
                                        </div>
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 37px;">
                                        <input type="number" min="0" max="999" style="width:inherit;" ng-model="item.hr" ng-value="item.hr" ng-blur="vm.setreNode(item)">
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 37px;">
                                        <input type="number" min="0" max="999" style="width:inherit;" ng-model="item.r" ng-value="item.r" ng-blur="vm.setreNode(item)">
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 86px;">
                                        <div style="width: inherit;">
                                            <input type="number" min="0" max="999" style="width: 45%;" ng-model="item.hypertension" ng-value="item.hypertension" ng-blur="vm.setreNode(item)">/
                                            <input type="number" min="0" max="999" style="width: 45%;" ng-model="item.hypopiesia" ng-value="item.hypopiesia" ng-blur="vm.setreNode(item)">
                                        </div>
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 38px;">
                                        <input type="number" min="0" max="999" style="width:inherit;" ng-model="item.spo2" ng-value="item.spo2" ng-blur="vm.setreNode(item)">
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 38px;">
                                        <select style="width:inherit;" ng-model="item.oxInhalMeth" class="not-print" ng-change="vm.setreNode(item)">
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                        </select>
                                        <input type="text" class="not-display" style="width:inherit;" ng-model="item.oxInhalMeth" ng-value="item.oxInhalMeth">
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 38px;">
                                        <input type="number" min="0" max="999" style="width:inherit;" ng-model="item.oxFlow" ng-value="item.oxFlow" ng-blur="vm.setreNode(item)">
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 83px;" class="td6">
                                        <select style="width:inherit;" class="not-print" ng-model="item.consLev" ng-change="vm.setreNode(item)">
                                            <option value='0'>0</option>
                                            <option value='1'>1</option>
                                            <option value='2'>2</option>
                                        </select>
                                        <input type="text" class="not-display" style="width:inherit;" ng-model="item.consLev" ng-value="item.consLev">
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 84px;" class="td6">
                                        <select style="width:inherit;" class="not-print" ng-model="item.airwayPatency" ng-change="vm.setreNode(item)">
                                            <option value='0'>0</option>
                                            <option value='1'>1</option>
                                            <option value='2'>2</option>
                                        </select>
                                        <input type="text" class="not-display" style="width:inherit;" ng-model="item.airwayPatency" ng-value="item.airwayPatency">
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 67px;">
                                        <select style="width:inherit;" class="not-print" ng-model="item.physicalActivity" ng-change="vm.setreNode(item)">
                                            <option value='0'>0</option>
                                            <option value='1'>1</option>
                                            <option value='2'>2</option>
                                        </select>
                                        <input type="text" class="not-display" style="width:inherit;" ng-model="item.physicalActivity" ng-value="item.physicalActivity">
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 60px;">
                                        <select style="width:inherit;" class="not-print" ng-model="item.fluidInfusion" ng-change="vm.setreNode(item)">
                                            <option value='0'>0</option>
                                            <option value='1'>1</option>
                                            <option value='2'>2</option>
                                        </select>
                                        <input type="text" class="not-display" style="width:inherit;" ng-model="item.fluidInfusion" ng-value="item.fluidInfusion">
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 75px;">
                                        <select style="width:inherit;" class="not-print" ng-model="item.nauseaVomit" ng-change="vm.setreNode(item)">
                                            <option value="0">0</option>
                                            <option value="1">1</option>
                                        </select>
                                        <input type="text" class="not-display" style="width:inherit;" ng-model="item.nauseaVomit" ng-value="item.nauseaVomit">
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 37px;">
                                        <select style="width: inherit;" class="not-print" ng-model="item.shivering" ng-change="vm.setreNode(item)">
                                            <option value="0">0</option>
                                            <option value="1">1</option>
                                        </select>
                                        <input type="text" class="not-display" style="width:inherit;" ng-model="item.shivering" ng-value="item.shivering">
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 85px;">
                                        <select style="width: inherit;" class="not-print" ng-model="item.painScore" ng-change="vm.setreNode(item, 'painScore')">
                                            <option value="0">0</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select>
                                        <input type="text" class="not-display" style="width:inherit;" ng-model="item.painScore" ng-value="item.painScore">
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 125px;">
                                        <textarea class="not-print obser-rec" ng-model="item.obserRec" ng-blur="vm.setreNode(item)" maxlength="20">{{item.obserRec}}</textarea>
                                        <div class="not-display obser-rec">{{item.obserRec}}</div>
                                    </td>
                                    <td ng-class="{true: 'form-readonly'}[!!!item.id]" style="width: 188px;">
                                        <div class="med-name-flow" contenteditable="false" ng-click="vm.showmedNameFlow(item,$event)">{{item.medNameFlow}}</div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </article>
            </div>
            <article layout="column">
                <div style="margin-top:20px;" class="readonly bottom">
                    <div layout class="layout-padding preoperative" ng-class="{true: 'dyqzsy'}[!place]">
                        <div layout layout-align="start center">
                            <span>吸氧方式：1=经鼻 2=经口 3=经气管插管 4=经气切 5=经口咽管 6=经鼻咽管 7=经喉罩 8=机械通气 </span>
                        </div>
                        <div layout layout-align="start center" ng-class='{true: "md-red"}[!vm.rSheet.anaesPacuRec.leaveTo && verify]'>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;出室后去向 ：
                            <label class="checkbox-inline" layout layout-align="center center">
                                <checkbox ng-true-value="1" ng-model="vm.rSheet.anaesPacuRec.leaveTo" ng-change="vm.setreNodeinfo()"><span>回病房</span></checkbox>
                            </label>
                            <label class="checkbox-inline">
                                <checkbox ng-true-value="2" ng-model="vm.rSheet.anaesPacuRec.leaveTo" ng-change="vm.setreNodeinfo()">ICU</checkbox>
                            </label>
                            <label class="checkbox-inline">
                                <checkbox ng-true-value="3" ng-model="vm.rSheet.anaesPacuRec.leaveTo" ng-change="vm.setreNodeinfo()">离院</checkbox>
                            </label>
                            <label class="checkbox-inline">
                                <checkbox ng-true-value="4" ng-model="vm.rSheet.anaesPacuRec.leaveTo" ng-change="vm.setreNodeinfo()">死亡</checkbox>
                            </label>
                        </div>
                    </div>
                    <div layout class="form-group">
                        <div flex layout layout-align="start center" ng-class='{true: "md-red"}[!vm.rSheet.anaesPacuRec.docSign && verify]'>
                            <span>麻醉医师签名：</span>
                            <oi-select flex="25" class="noborder3" ng-class="{true: 'signature', false: 'unsignature'}[hasSig]" ng-blur="vm.setreNodeinfo()" ng-model="vm.rSheet.anaesPacuRec.docSign" oi-options="i.userName as i.name for i in anaesthetistList | limitTo: 100" oi-select-options="{ listFilter: 'oiSelectAscSort:[\'pinYin\']' }"></oi-select>
                            <div class="eSignature">
                                <img ng-repeat="item in eSignatureAnaestheitist" src="{{item.path}}" ng-if="item.hasPath" />
                            </div>
                        </div>
                        <div flex layout layout-align="start center" ng-class='{true: "md-red"}[!vm.rSheet.anaesPacuRec.nurseSign && verify]'>
                            <span>PACU区域负责护士签名：</span>
                            <oi-select flex="30" class="noborder3" ng-blur="vm.setreNodeinfo()" ng-model="vm.rSheet.anaesPacuRec.nurseSign" oi-options="i.userName as i.name for i in nurseList | limitTo: 100" oi-select-options="{ listFilter: 'oiSelectAscSort:[\'pinYin\']' }"></oi-select>
                        </div>
                    </div>
                </div>
            </article>
        </main>
    </div>
</div>